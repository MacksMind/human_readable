<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: HumanReadable
  
    &mdash; Documentation by YARD 0.9.25
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "HumanReadable";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo;
    
    
    <span class="title">HumanReadable</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: HumanReadable
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/human_readable.rb<span class="defines">,<br />
  lib/human_readable/version.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Copyright 2020 Mack Earnhardt</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="HumanReadable/Configuration.html" title="HumanReadable::Configuration (class)">Configuration</a></span>, <span class='object_link'><a href="HumanReadable/MinSizeTwo.html" title="HumanReadable::MinSizeTwo (class)">MinSizeTwo</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>Gem version</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0.9.0</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#charset-class_method" title="charset (class method)">.<strong>charset</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Characters available for token generation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure-class_method" title="configure (class method)">.<strong>configure</strong> {|configuration| ... } &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yields block for configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate-class_method" title="generate (class method)">.<strong>generate</strong>(output_size: configuration.output_size)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a random token of the requested size.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset-class_method" title="reset (class method)">.<strong>reset</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reset configuration and memoizations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_token%3F-class_method" title="valid_token? (class method)">.<strong>valid_token?</strong>(input)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clean and validate a candidate token.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="charset-class_method">
  
    .<strong>charset</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Manipulate via #configure</p>
</div>
  </div>


<p>Characters available for token generation</p>

<p>DEFAULT: Digits 0-9 and uppercase letters A-Z except for ILOU</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>of available characters</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/human_readable.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_charset'>charset</span>
  <span class='ivar'>@charset</span> <span class='op'>||=</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> <span class='lparen'>(</span>
        <span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='op'>+</span>
        <span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span><span class='op'>..</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='op'>+</span>
        <span class='id identifier rubyid_extend_chars'>extend_chars</span> <span class='op'>-</span>
        <span class='id identifier rubyid_exclude_chars'>exclude_chars</span> <span class='op'>-</span>
        <span class='id identifier rubyid_validation_hash'>validation_hash</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>+</span>
        <span class='id identifier rubyid_validation_hash'>validation_hash</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>
      <span class='rparen'>)</span>
      <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
      <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure-class_method">
  
    .<strong>configure</strong> {|configuration| ... } &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Changing substitution_hash keys alters the check character, invalidating previous tokens.</p>
</div>
  </div>


<p>Yields block for configuration</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="" title="HumanReadable (module)">HumanReadable</a></span></span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>I</span><span class='words_sep'> </span><span class='tstring_content'>L</span><span class='tstring_end'>]</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>O:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>U:</span> <span class='symbol'>:V</span> <span class='rbrace'>}</span> <span class='comment'># Default
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_output_size'>output_size</span> <span class='op'>=</span> <span class='int'>10</span>                                  <span class='comment'># Default
</span>
  <span class='comment'># Substitution hash
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span><span class='lbracket'>[</span><span class='symbol'>:B</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>8</span>
  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span><span class='lbracket'>[</span><span class='symbol'>:U</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='comment'># or equivalently
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>I</span><span class='words_sep'> </span><span class='tstring_content'>L</span><span class='tstring_end'>]</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>O:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>U:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>B:</span> <span class='int'>8</span><span class='rbrace'>}</span>

  <span class='comment'># Extend charset
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_extend_chars'>extend_chars</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>~</span><span class='words_sep'> </span><span class='tstring_content'>!</span><span class='words_sep'> </span><span class='tstring_content'>@</span><span class='words_sep'> </span><span class='tstring_content'>$</span><span class='tstring_end'>]</span></span>

  <span class='comment'># Exclude charset
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_exclude_chars'>exclude_chars</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>X</span><span class='words_sep'> </span><span class='tstring_content'>Y</span><span class='words_sep'> </span><span class='tstring_content'>Z</span><span class='tstring_end'>]</span></span>

  <span class='comment'># Supports Emoji!!
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_extend_chars'>extend_chars</span> <span class='op'>&lt;&lt;</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>⛰️</span><span class='words_sep'> </span><span class='tstring_content'>🧻</span><span class='words_sep'> </span><span class='tstring_content'>✂️</span><span class='words_sep'> </span><span class='tstring_content'>🦎</span><span class='words_sep'> </span><span class='tstring_content'>🖖</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>🖤</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>❤️</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># And understands skin tones
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_remove_skin_tones'>remove_skin_tones</span> <span class='op'>=</span> <span class='kw'>false</span>                         <span class='comment'># Default
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_substitution_hash'>substitution_hash</span><span class='lbracket'>[</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>👍🏻</span><span class='words_sep'> </span><span class='tstring_content'>👍🏼</span><span class='words_sep'> </span><span class='tstring_content'>👍🏽</span><span class='words_sep'> </span><span class='tstring_content'>👍🏾</span><span class='words_sep'> </span><span class='tstring_content'>👍🏿</span><span class='tstring_end'>]</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>👍</span><span class='tstring_end'>&#39;</span></span>
  <span class='comment'># -or-
</span>  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_remove_skin_tones'>remove_skin_tones</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_extend_chars'>extend_chars</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>👍</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>Specified keys won&#39;t be used during generation, and values will be substituted during validation, increasing the likelihood that a misread character can be restored. Extend or replace the substitutions to alter the character set. For convenience, digits and symbols are allowed in the hash and are translated to characters during usage.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>configuration</span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/human_readable.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_configuration'>configuration</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate-class_method">
  
    .<strong>generate</strong>(output_size: configuration.output_size)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Minimum size is 2 since the last character is a check character</p>
</div>
  </div>


<p>Generates a random token of the requested size</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>output_size</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>configuration.output_size</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>desired number of printable characters</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>random token with check character</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="HumanReadable/MinSizeTwo.html" title="HumanReadable::MinSizeTwo (class)">MinSizeTwo</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/human_readable.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='label'>output_size:</span> <span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_output_size'>output_size</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="HumanReadable/MinSizeTwo.html" title="HumanReadable::MinSizeTwo (class)">MinSizeTwo</a></span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_output_size'>output_size</span> <span class='op'>&lt;</span> <span class='int'>2</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_random'>generate_random</span><span class='lparen'>(</span><span class='id identifier rubyid_output_size'>output_size</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_check_character'>check_character</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset-class_method">
  
    .<strong>reset</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reset configuration and memoizations</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>list of variables reset</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/human_readable.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset'>reset</span>
  <span class='id identifier rubyid_instance_variables'>instance_variables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sym'>sym</span><span class='op'>|</span> <span class='id identifier rubyid_remove_instance_variable'>remove_instance_variable</span><span class='lparen'>(</span><span class='id identifier rubyid_sym'>sym</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_token?-class_method">
  
    .<strong>valid_token?</strong>(input)  &#x21d2; <tt>String</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clean and validate a candidate token</p>
<ul><li>
<p>Upcases</p>
</li><li>
<p>Applies substitutions</p>
</li><li>
<p>Remove characters not in available character set</p>
</li><li>
<p>Validates the check character</p>
</li></ul>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the candidate token</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>possibly modified token if valid, else nil</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/human_readable.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_token?'>valid_token?</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_codepoints'>codepoints</span> <span class='op'>=</span>
    <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_each_grapheme_cluster'>each_grapheme_cluster</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='const'>SKIN_TONE_REGEXP</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_remove_skin_tones'>remove_skin_tones</span>
      <span class='id identifier rubyid_charset_hash'>charset_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_validation_hash'>validation_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='id identifier rubyid_codepoints'>codepoints</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_codepoints'>codepoints</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='int'>2</span>

  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span>
    <span class='id identifier rubyid_codepoints'>codepoints</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_codepoint'>codepoint</span> <span class='op'>*=</span> <span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_odd?'>odd?</span>
      <span class='id identifier rubyid_codepoint'>codepoint</span> <span class='op'>/</span> <span class='id identifier rubyid_charset_size'>charset_size</span> <span class='op'>+</span> <span class='id identifier rubyid_codepoint'>codepoint</span> <span class='op'>%</span> <span class='id identifier rubyid_charset_size'>charset_size</span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_codepoints'>codepoints</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='op'>|</span> <span class='id identifier rubyid_charset'>charset</span><span class='lbracket'>[</span><span class='id identifier rubyid_codepoint'>codepoint</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span> <span class='op'>%</span> <span class='id identifier rubyid_charset_size'>charset_size</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Aug 18 10:32:47 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.6.6).
</div>

    </div>
  </body>
</html>